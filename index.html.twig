{# 1. Extend the master layout we created in Step 1 #}
{% extends 'layout.html.twig' %}

{# 2. Fill the title block #}
{% block title %}Programming Languages List{% endblock %}

{# 3. Fill the content block with the rest of the HTML #}
{% block content %}

    <h1>List of ALL my Languages!!!</h1>

    {# Search Form (HTML remains mostly the same) #}
    <form action="search-lang.php" method="post">
        <div class="Search-button">
            <input type="text" name="keywords" placeholder="Search">
            <input type="submit" class="btn btn-primary" value="Go!">
        </div>
    </form>

    {# Table using Twig's {% for %} loop #}
    <table class="table table-dark table-striped table-hover">
        <tr class="table-light">
            <th>Lang ID</th>
            <th>Lang Name</th>
            <th>Ratings</th>
            <th>Released Date</th>
            <th></th> 
            <th></th>
        </tr>
        
        {# Loop through the 'languages' array passed from index.php #}
        {% for lang in languages %}
        <tr>
            <td>{{ lang.lang_id }}</td>
            {# Use Twig variable syntax {{ ... }} for output #}
            <td><a href="lang-details.php?id={{ lang.lang_id }}">{{ lang.lang_name }}</a></td>
            <td>{{ lang.rating }}</td>
            <td>{{ lang.released_date }}</td>
            
            {# Action Buttons #}
            <td><a class="btn btn-outline-danger" href="delete-lang.php?id={{ lang.lang_id }}" role="button">Delete</a></td>
            <td><a class="btn btn-outline-warning" href="edit-lang-form.php?id={{ lang.lang_id }}" role="button">Edit</a></td>
        </tr>
        {% endfor %}
    </table>

    <a href="add-lang-form.php" class="btn btn-primary">Add a Lang</a>

{% endblock %}